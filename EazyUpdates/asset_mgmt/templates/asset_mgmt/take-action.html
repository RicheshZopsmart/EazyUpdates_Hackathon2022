{% extends 'home/base.html' %}
{% block head %}
<title>
    Take Action | EazyUpdates
</title>
<style>
    .wrapper {
        background: #ffd800;
        width: 844px;
        height: 160px;
        margin: auto ;
      }
      
      body{
        height: 100vh;
        padding: 10px;

      }          
      .margin-area {
        position: relative;
        text-align: center;
        font-family: "Trebuchet", sans-serif;
        font-size: 14px;
        margin: 0 20px;
      }
      
      .dot {
        height: 30px;
        width: 30px;
        position: absolute;
        background: #000;
        border-radius: 50%;
        top: 10px;
        color: #fff;
        line-height: 30px;
        z-index: 9999;
      }
      .dot.one {
        left: 65px;
        
        background: #bbb;
      }
      .dot.two {
        left: 280px;
        background: #bbb;
      }
      .dot.three {
        left: 490px;
        background: #bbb;
        color: #ffd800;
      }
      .dot.four {
        left: 700px;
        background: #bbb;
        color: #ffd800;
      }
      
      .progress-bar {
        position: absolute;
        height: 10px;
        width: 25%;
        top: 20px;
        left: 10%;
        background: #bbb;
      }
      .progress-bar.first {
        background: #0c84d9;
      }
      .progress-bar.second {
        left: 37%;
      }
      .progress-bar.third {
        left: 64%;
      }
      
      .message {
        position: absolute;
        height: 60px;
        width: 170px;
        padding: 10px;
        margin: 0;
        left: -8px;
        top: 0;
        color: #000;
      }
      .message.message-1 {
        top: 40px;
        color: #000;
      }
      .message.message-2 {
        left: 210px;
      }
      .message.message-3 {
        left: 210px;
        color: #000;
      }
      .message.message-4 {
        left: 210px;
      }
      
      .status {
        position: absolute;
        width: 700px;
        left: -600px;
        text-align: center;
        padding: 20px;
        color: black;
      }
      .status.code {
        top: 40px;
      }
      
      a {
        color: #0c84d9;
        text-decoration: none;
        font-weight: bold;
      }
      a:hover, a:focus {
        text-decoration: underline;
      }
      .action-card{
          margin-top:50%;
          margin-left:-250%;
      }
      .description{
          width:300px;
      }
</style>
{% endblock head %}
{% block body %}
<div class="jumbotron jumbotron-liquid">
    <h2 class="text text-info text-center">
        Take Action
    </h2>
</div>

<div class="wrapper mt-5">
    <div class="margin-area">
      <div class="dot one" id="0">1</div>
      <div class="dot two" id="1">2</div>
      <div class="dot three" id="2">3</div>
      <div class="dot four" id="3">4</div>
      <div class="progress-bar first"></div>
      <div class="progress-bar second"></div>
      <div class="progress-bar third"></div>
      <div class="message message-1">Open<div>
      <div class="message message-2">Approval Confirmed<div>
      <div class="message message-3">Asset Review<div>
      <div class="message message-4">Replaced/ Repair /Collected<div>
      
    </div>
        <div class="status code"> ticket Id: <a href="#">{{status.id}}</a>
  </div>
<script src="" async defer></script>
<div id="status" style="display:none;">
    {{status.status}}
</div>
<div class="action-card">
  <div class="card" style="width: 20rem; margin:1%">
    <div class="card-body">
      <h5 class="card-title">Name : {{status.Asset.Name}}</h5>
      <p class="card-text">Description: {{status.Asset.Description}}</p>
      <p class="card-text">Serial : {{status.Asset.SerialID}}</p>
      <p class="card-text">Damage Type : {{status.damagetype}}</p>
      <p class="card-text">Reason : {{status.reason}}</p>
     
    </div>
    <div class="card-footer">
      <p class="card-text">Owner : {{status.owner}}</p>
    </div>
</div>
   
    <div class="card" style="width: 18rem; margin:5%">
      {% if status.status == 1 %}
        <a class="btn btn-success" href="{% url 'update-ticket-status' status.id %}">Asset Review Done</a>
      {% elif status.status == 2 %}
        <a href="{% url 'update-ticket-status' status.id %}" class="btn btn-success ">Repair Done</a>
        <a href="{% url 'replace-asset' status.Asset.id %}" class="btn btn-warning mt-2">Replace Asset</a>
      {% endif %}
    </div>

</div>

{% endblock body %}

{% block JS %}
<script>
    var status = document.getElementById('status').innerText
    for(let i = 0;i<=status;i++){
        var div = document.getElementById(i.toString());
        div.style.background = "blue";
    }
</script>
{% endblock JS %}